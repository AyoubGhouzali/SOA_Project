graph TB
    subgraph EXTERNAL["Acteurs & SystÃ¨mes Externes"]
        PASSENGER[ğŸ‘¤ Passager<br/>AchÃ¨te tickets<br/>Consulte horaires]
        DRIVER[ğŸš— Conducteur<br/>Valide tickets<br/>Suit trajets]
        ADMIN[ğŸ‘¨â€ğŸ’¼ Administrateur<br/>GÃ¨re lignes<br/>Supervise systÃ¨me]
        
        STRIPE[ğŸ’³ Stripe API<br/>Traitement paiements]
        MAPS[ğŸ—ºï¸ Google Maps<br/>GÃ©olocalisation<br/>Calcul itinÃ©raires]
        SMS[ğŸ“± Service SMS<br/>Twilio/Nexmo]
        EMAIL[ğŸ“§ Service Email<br/>SendGrid/SES]
    end
    
    SYSTEM[ğŸš SystÃ¨me de Gestion<br/>Transport Urbain<br/>---<br/>Gestion tickets, abonnements<br/>Suivi temps rÃ©el<br/>Notifications]
    
    PASSENGER -->|AchÃ¨te tickets<br/>Consulte horaires| SYSTEM
    DRIVER -->|Valide tickets<br/>DÃ©marre voyages| SYSTEM
    ADMIN -->|Configure lignes<br/>Supervise| SYSTEM
    
    SYSTEM -->|Traite paiements| STRIPE
    SYSTEM -->|Calcule itinÃ©raires<br/>Suit position bus| MAPS
    SYSTEM -->|Envoie SMS| SMS
    SYSTEM -->|Envoie emails| EMAIL
    
    classDef userStyle fill:#a8dadc,stroke:#457b9d,stroke-width:2px
    classDef systemStyle fill:#e63946,stroke:#9d0208,stroke-width:4px
    classDef externalStyle fill:#ffd60a,stroke:#d4a017,stroke-width:2px
    
    class PASSENGER,DRIVER,ADMIN userStyle
    class SYSTEM systemStyle
    class STRIPE,MAPS,SMS,EMAIL externalStyle