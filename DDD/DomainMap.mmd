graph TB
    subgraph DOMAIN["üè¢ DOMAINE M√âTIER : Gestion du Transport Urbain"]
        subgraph CORE["‚≠ê SOUS-DOMAINES CORE (C≈ìur M√©tier)"]
            BILL["üí≥ Billetterie & Validation<br/>---<br/>‚Ä¢ Achat de tickets<br/>‚Ä¢ Validation titres<br/>‚Ä¢ Gestion cycle de vie<br/><br/>Complexit√©: HAUTE<br/>Diff√©renciation: √âLEV√âE"]
            SUB["üìÖ Gestion des Abonnements<br/>---<br/>‚Ä¢ Souscription<br/>‚Ä¢ Renouvellement auto<br/>‚Ä¢ Tarification complexe<br/><br/>Complexit√©: HAUTE<br/>Diff√©renciation: √âLEV√âE"]
            SCHED["üöç Planification & Horaires<br/>---<br/>‚Ä¢ Lignes et trajets<br/>‚Ä¢ Optimisation horaires<br/>‚Ä¢ Gestion perturbations<br/><br/>Complexit√©: MOYENNE<br/>Diff√©renciation: MOYENNE"]
        end
        
        subgraph SUPPORT["üîß SOUS-DOMAINES SUPPORT"]
            TRACK["üìç G√©olocalisation & Suivi<br/>---<br/>‚Ä¢ Tracking GPS temps r√©el<br/>‚Ä¢ Calcul ETA<br/>‚Ä¢ D√©tection retards<br/><br/>Complexit√©: MOYENNE<br/>Diff√©renciation: FAIBLE"]
            NOTIF["üì¨ Notifications & Alertes<br/>---<br/>‚Ä¢ Envoi SMS/Email/Push<br/>‚Ä¢ Alertes retard/annulation<br/>‚Ä¢ Gestion pr√©f√©rences<br/><br/>Complexit√©: FAIBLE<br/>Diff√©renciation: FAIBLE"]
        end
        
        subgraph GENERIC["‚öôÔ∏è SOUS-DOMAINES G√âN√âRIQUES"]
            USER["üë§ Gestion Utilisateurs<br/>---<br/>‚Ä¢ Authentification<br/>‚Ä¢ Profils (Passager/Conducteur)<br/>‚Ä¢ Autorisation<br/><br/>Solution: Keycloak/Auth0"]
            PAY["üí∞ Paiement<br/>---<br/>‚Ä¢ Traitement paiements<br/>‚Ä¢ Moyens de paiement<br/>‚Ä¢ Remboursements<br/><br/>Solution: Stripe/PayPal"]
        end
    end
    
    %% Relations de d√©pendance
    BILL -.->|utilise| PAY
    SUB -.->|utilise| PAY
    BILL -.->|notifie via| NOTIF
    SUB -.->|notifie via| NOTIF
    SCHED -.->|notifie via| NOTIF
    SCHED -.->|donn√©es pour| TRACK
    BILL -->|authentification| USER
    SUB -->|authentification| USER
    SCHED -->|authentification| USER
    TRACK -->|authentification| USER
    
    %% Styles
    classDef coreStyle fill:#ff6b6b,stroke:#c92a2a,stroke-width:3px,color:#fff
    classDef supportStyle fill:#4dabf7,stroke:#1971c2,stroke-width:2px,color:#fff
    classDef genericStyle fill:#95c99b,stroke:#2f9e44,stroke-width:2px,color:#fff
    classDef domainStyle fill:#f8f9fa,stroke:#495057,stroke-width:4px
    
    class BILL,SUB,SCHED coreStyle
    class TRACK,NOTIF supportStyle
    class USER,PAY genericStyle
    class DOMAIN,CORE,SUPPORT,GENERIC domainStyle